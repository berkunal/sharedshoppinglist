<h1 mat-dialog-title>{{data.shoppingList.name}}</h1>

<div mat-dialog-content class="dialog-content">
  <p>{{data.shoppingList.description}}</p>
  <div style="margin-bottom: 8px">
    <mat-accordion>
      <mat-expansion-panel class="sub-list-expansion-panel"
                           *ngFor="let subShoppingList of data.shoppingList.subShoppingLists">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{subShoppingList.name}}
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <div *ngFor="let item of subShoppingList.items; let lastItem = last;">
            <mat-list-item >
              <mat-icon mat-list-icon>label</mat-icon>
              <div mat-line>{{item.name}}</div>
              <div mat-line>Amount: {{item.quantity}} {{item.unit}}</div>
              <div mat-line *ngIf="item.note">Note: {{item.note}}</div>
            </mat-list-item>
            <mat-divider *ngIf="!lastItem"></mat-divider>
          </div>
          <mat-list-item>
            <button mat-flat-button color="primary" (click)="addNewItemClick(subShoppingList)">
              Add New Item
            </button>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <button mat-flat-button color="primary" class="action-button" (click)="addSubListClick()">
    Add a Sub Group
  </button>
  <button mat-flat-button color="accent" class="action-button" (click)="onSaveClick()">
    Save
  </button>
</div>
